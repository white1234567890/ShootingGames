#pragma once
#include "PhysicsClass.h"

//使用クラス宣言
class BoxClass;
class CircleClass;

class BaseObjectClass :
	public PhysicsClass
{
protected:
	bool m_Flag;	//フラグ
	POSITION m_Position;	//中心座標
	VELOCITY m_Velocity;	//速度
	ACCELARATION m_Accelaration;	//加速度
	double m_Angle;	//傾き

	//////////////////////////////////////////////////////////////////////////////
	//概略:
	//	物体を移動させる
	//////////////////////////////////////////////////////////////////////////////
	void MoveObject();

	//////////////////////////////////////////////////////////////////////////////
	//概略:
	//	物体を移動させる（重力を加算する）
	//////////////////////////////////////////////////////////////////////////////
	void MoveObject(bool& groundedFlag);

	//////////////////////////////////////////////////////////////////////////////
	//概略:
	//	物体を加速させる
	//////////////////////////////////////////////////////////////////////////////
	void AccelObject();

	virtual void RotateObject(double angle);

	
	//////////////////////////////////////////////////////////////////////////////
	//概略:
	//	反発計算
	//////////////////////////////////////////////////////////////////////////////
	virtual void ObjectBound() final;

	//////////////////////////////////////////////////////////////////////////////
	//概略:
	//	反発計算（四角）
	//引数:
	//	*obj:当たった物体（四角）
	//////////////////////////////////////////////////////////////////////////////
	virtual void ObjectBound(BoxClass *obj);

	//////////////////////////////////////////////////////////////////////////////
	//概略:
	//	反発計算（円）
	//引数:
	//	*obj:当たった物体（円）
	//////////////////////////////////////////////////////////////////////////////
	virtual void ObjectoBound(CircleClass *obj);

public:
	//コンストラクタ
	BaseObjectClass(void);
	//デストラクタ
	~BaseObjectClass(void);
	
	//////////////////////////////////////////////////////////////////////////////
	//概略:
	//	中心座標を取得する
	//戻り値:
	//　m_Position:中心座標
	//////////////////////////////////////////////////////////////////////////////
	POSITION GetPosition();

	//////////////////////////////////////////////////////////////////////////////
	//概略:
	//	速度を取得する
	//戻り値
	//	m_Velocity:速度
	//////////////////////////////////////////////////////////////////////////////
	VELOCITY GetVelocity();

	//////////////////////////////////////////////////////////////////////////////
	//概略:
	//	加速度を取得する
	//戻り値:
	//	m_Accelaration:加速度
	//////////////////////////////////////////////////////////////////////////////
	ACCELARATION GetAccelaration();

	//////////////////////////////////////////////////////////////////////////////
	//概略:
	//	フラグを取得する
	//戻り値
	//	m_Flag:フラグ
	//////////////////////////////////////////////////////////////////////////////
	bool GetFlag();

	//////////////////////////////////////////////////////////////////////////////
	//概略:
	//	中心座標を代入する
	//引数:
	//	*position:位置
	//////////////////////////////////////////////////////////////////////////////
	void SetPosition(POSITION* position);

	//////////////////////////////////////////////////////////////////////////////
	//概略:
	//	速度を代入する
	//引数:
	//	*velocity:速度
	//////////////////////////////////////////////////////////////////////////////
	void SetVelocity(VELOCITY* velocity);

	//////////////////////////////////////////////////////////////////////////////
	//概略:
	//	加速度を代入する
	//引数:
	//	*accelaration:加速度
	//////////////////////////////////////////////////////////////////////////////
	void SetAccelaration(ACCELARATION* accelaration);

	//////////////////////////////////////////////////////////////////////////////
	//概略:
	//	フラグを代入する
	//引数:
	//	flag:フラグ
	//////////////////////////////////////////////////////////////////////////////
	void SetFlag(bool flag);

	//////////////////////////////////////////////////////////////////////////////
	//概略:
	//	更新（純粋仮想関数）
	//////////////////////////////////////////////////////////////////////////////
	virtual bool Update() = 0;

	//////////////////////////////////////////////////////////////////////////////
	//概略:
	//	初期化（純粋仮想関数）
	//////////////////////////////////////////////////////////////////////////////
	virtual bool Initialize() = 0;

	//////////////////////////////////////////////////////////////////////////////
	//概略:
	//	描画（純粋仮想関数）
	//////////////////////////////////////////////////////////////////////////////
	virtual void Render() = 0;
};

