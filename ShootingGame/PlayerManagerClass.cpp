#include "PlayerManagerClass.h"

//実体化
PlayerManagerClass* cl_PlayerManager;

PlayerManagerClass::PlayerManagerClass(void)
{
}


PlayerManagerClass::~PlayerManagerClass(void)
{
}

//////////////////////////////////////////////////////////////////////////////
//public関数
//////////////////////////////////////////////////////////////////////////////

//////////////////////////////////////////////////////////////////////////////
//概略:
//	プレイヤーの位置を取得する
//戻り値:
//	m_Player.GetPosition():プレイヤーの位置
//////////////////////////////////////////////////////////////////////////////
POSITION PlayerManagerClass::GetPlayerPosition()
{
	return m_Player.GetPosition();
}

//////////////////////////////////////////////////////////////////////////////
//概略:
//	ウィンドウサイズが変化したときにプレイヤーのスピードを変化させる
//引数:
//	w:ウィンドウサイズ幅
//	h:ウィンドウサイズ高さ
//////////////////////////////////////////////////////////////////////////////
void PlayerManagerClass::WhenReshaped()
{
	m_Player.SetPlayerSpeed(SPEED_X_ASPECT * WINDOW_WIDTH * WINDOW_HEIGHT / SPEED_ASPECT , SPEED_Y_ASPECT * WINDOW_WIDTH * WINDOW_HEIGHT / SPEED_ASPECT);
}

//////////////////////////////////////////////////////////////////////////////
//概略:
//	初期化
//戻り値:
//	true:初期化成功
//	false:初期化失敗
//////////////////////////////////////////////////////////////////////////////
bool PlayerManagerClass::Initialize()
{
	if(!m_Player.Initialize("data/player/playerstatus.csv" , &m_Shoulder_L , &m_Shoulder_R , &m_Back , &m_Hip)) return false;
	return true;
}

//////////////////////////////////////////////////////////////////////////////
//概略:
//	更新
//戻り値:
//	true:更新成功	
//////////////////////////////////////////////////////////////////////////////
bool PlayerManagerClass::Update()
{
	m_Player.InputKey(InputClass::E_ALLOW_PLESS_TWICE);
	m_Player.Update();
	return true;
}

//////////////////////////////////////////////////////////////////////////////
//概略:
//	描画
//////////////////////////////////////////////////////////////////////////////
void PlayerManagerClass::Render()
{
		m_Player.Render();
}